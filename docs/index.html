<!DOCTYPE html>
<html>
  <head>
    <title>
      onesubwiper
    </title>
  </head>
  <body>
    <div id="step1">
      <p style="display: block; font-family: monospace;">
	onesubwiper is a small script to let you overwrite your comments one certain subreddits.
	It works on Linux and Mac OS X, you will need to have python and curl installed.
      </p>
      <a href="https://www.reddit.com/api/v1/authorize?client_id=VScq0j6VBmWeig&response_type=code&state=0&redirect_uri=https://oueouiiaoo.github.io/onesubwiper/index.html&duration=temporary&scope=identity,edit,flair,history,read,report,save,submit">
	<p style="display: block; font-family: monospace;">
	  Step 1. get authorization code
	</p>
      </a>
    </div>
    <div id="step2" hidden>
      <h2 id="authorizationcode" style="display: block; font-family: monospace;">
      </h2>
    </div>
    <script type="text/javascript">
      (function() {
      var parameters = decodeURI(window.location.href).split(/\?|=|&/);
      for(var i = 1; i != parameters.length; i++) {
      if(parameters[i] === "code") {
      document.getElementById("step2").removeAttribute("hidden");
      document.getElementById("authorizationcode").innerHTML = parameters[i + 1];
      document.getElementById("step1").setAttribute("hidden", "true");
      }
      if(parameters[i] === "error") {
      document.getElementById("step2").removeAttribute("hidden");
      document.getElementById("authorizationcode").innerHTML = "error " + parameters[i + 1];
      document.getElementById("step1").setAttribute("hidden", "true");
      }
      }
      })();
    </script>
  </body>
</html>

